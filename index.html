<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ | Engineer OS V18</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- Engineering Theme Variables --- */
        :root {
            /* Default (Dark - Blueprint) */
            --bg-deep: #0f172a;       /* Slate 900 */
            --bg-card: #1e293b;       /* Slate 800 */
            --glass-bg: rgba(30, 41, 59, 0.75);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --grid-color: rgba(30, 41, 59, 0.3);
            
            /* Accents (Constant) */
            --accent-site: #10b981;   /* Emerald */
            --accent-shop: #3b82f6;   /* Blue */
            --accent-fin: #f59e0b;    /* Amber */
            --accent-office: #8b5cf6; /* Violet */
            --accent-bim: #ec4899;    /* Pink */
            --accent-soft: #06b6d4;   /* Cyan */
        }

        /* Light Theme (Paper Sketch) */
        [data-theme="light"] {
            --bg-deep: #f0f4f8;       /* Light Blue-Grey */
            --bg-card: #ffffff;       /* White */
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(0, 0, 0, 0.05);
            --text-primary: #1e293b;  /* Slate 800 */
            --text-secondary: #475569;/* Slate 600 */
            --grid-color: rgba(0, 0, 0, 0.05);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-primary);
            background-image: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 20px 20px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* --- UI Components --- */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .nav-btn {
            position: relative; font-weight: 700; color: var(--text-secondary); transition: all 0.3s; padding: 0.5rem 1rem;
        }
        .nav-btn:hover { color: var(--text-primary); }
        .nav-active { color: var(--text-primary) !important; background: var(--glass-border); border-radius: 8px; }
        .nav-active::after {
            content: ''; position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%);
            width: 20px; height: 2px; background-color: var(--accent-shop); border-radius: 2px;
        }

        /* --- Theme Toggle Button --- */
        .theme-toggle {
            background: var(--glass-border);
            border: 1px solid var(--text-secondary);
            color: var(--text-primary);
            width: 40px; height: 40px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .theme-toggle:hover { transform: rotate(15deg); background: var(--accent-shop); border-color: var(--accent-shop); color: white; }

        /* --- Distinct Category Styles (Golden List) --- */
        .cat-site { border-color: var(--accent-site) !important; }
        .btn-site { color: var(--accent-site); border-color: var(--accent-site); }
        .btn-site:hover { background-color: var(--accent-site); color: white; }

        .cat-shop { border-color: var(--accent-shop) !important; }
        .btn-shop { color: var(--accent-shop); border-color: var(--accent-shop); }
        .btn-shop:hover { background-color: var(--accent-shop); color: white; }

        .cat-fin { border-color: var(--accent-fin) !important; }
        .btn-fin { color: var(--accent-fin); border-color: var(--accent-fin); }
        .btn-fin:hover { background-color: var(--accent-fin); color: white; }

        .cat-office { border-color: var(--accent-office) !important; }
        .btn-office { color: var(--accent-office); border-color: var(--accent-office); }
        .btn-office:hover { background-color: var(--accent-office); color: white; }

        .cat-bim { border-color: var(--accent-bim) !important; }
        .btn-bim { color: var(--accent-bim); border-color: var(--accent-bim); }
        .btn-bim:hover { background-color: var(--accent-bim); color: white; }

        /* --- Filter Pills --- */
        .filter-pill {
            background: var(--glass-border); border: 1px solid var(--text-secondary); color: var(--text-secondary);
            padding: 6px 16px; border-radius: 6px; font-size: 0.85rem; font-weight: 600; transition: all 0.2s;
        }
        .filter-pill:hover, .filter-pill.active { background: var(--accent-shop); color: white; border-color: var(--accent-shop); }

        /* --- Checkbox --- */
        .custom-checkbox {
            appearance: none; background: var(--glass-border); width: 1.25em; height: 1.25em;
            border: 2px solid var(--text-secondary); border-radius: 4px; display: grid; place-content: center; cursor: pointer;
        }
        .custom-checkbox:checked { background: var(--accent-site); border-color: var(--accent-site); }
        .custom-checkbox::before { content: "âœ“"; color: white; font-size: 0.8em; transform: scale(0); transition: 0.1s; }
        .custom-checkbox:checked::before { transform: scale(1); }
        
        .task-completed { text-decoration: line-through; color: var(--text-secondary); opacity: 0.7; }
        .week-locked { opacity: 0.5; pointer-events: none; filter: grayscale(0.9); }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-deep); }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        
        .chart-container { position: relative; height: 300px; width: 100%; }
    </style>
</head>
<body class="min-h-screen pb-12">

    <!-- Navigation -->
    <nav class="glass-panel sticky top-0 z-50 border-b border-gray-700/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <div class="bg-blue-600/20 p-2 rounded-lg border border-blue-500/30">
                        <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                    </div>
                    <div class="flex flex-col">
                        <span class="text-lg font-bold text-primary leading-none">Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ</span>
                        <span class="text-[10px] text-blue-500 font-mono tracking-wider mt-1">Engineer OS V18.0</span>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-2">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn nav-active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button onclick="navigate('map')" id="nav-map" class="nav-btn">Ø®Ø§Ø±Ø·Ø© Ø§Ù„Ù…Ù‡Ù…Ø©</button>
                    <button onclick="navigate('resources')" id="nav-resources" class="nav-btn">Ø§Ù„Ù…ØµØ§Ø¯Ø±</button>
                    <button onclick="navigate('aibim')" id="nav-aibim" class="nav-btn">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡</button>
                    <button onclick="navigate('mindset')" id="nav-mindset" class="nav-btn">Ø¹Ù‚Ù„ÙŠØ© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³</button>
                    
                    <!-- Theme Toggle -->
                    <button onclick="toggleTheme()" class="theme-toggle ml-4" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">
                        <svg id="theme-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                    </button>
                </div>

                <!-- Mobile Trigger -->
                <div class="flex items-center md:hidden gap-3">
                    <button onclick="toggleTheme()" class="theme-toggle" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                    </button>
                    <button onclick="toggleMobileMenu()" class="text-secondary hover:text-primary p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden glass-panel border-t border-gray-700/20 p-4 space-y-2">
            <button onclick="navigate('dashboard')" class="block w-full text-right px-4 py-3 text-secondary hover:bg-gray-700/20 rounded">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <button onclick="navigate('map')" class="block w-full text-right px-4 py-3 text-secondary hover:bg-gray-700/20 rounded">Ø®Ø§Ø±Ø·Ø© Ø§Ù„Ù…Ù‡Ù…Ø©</button>
            <button onclick="navigate('resources')" class="block w-full text-right px-4 py-3 text-secondary hover:bg-gray-700/20 rounded">Ø§Ù„Ù…ØµØ§Ø¯Ø±</button>
            <button onclick="navigate('aibim')" class="block w-full text-right px-4 py-3 text-secondary hover:bg-gray-700/20 rounded">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡</button>
            <button onclick="navigate('mindset')" class="block w-full text-right px-4 py-3 text-secondary hover:bg-gray-700/20 rounded">Ø¹Ù‚Ù„ÙŠØ© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- VIEW: DASHBOARD -->
        <section id="view-dashboard" class="space-y-6 animate-fade-in">
            <div class="glass-panel rounded-2xl p-8 relative overflow-hidden">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-primary mb-2">Ù…Ø¤Ø´Ø± Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ© <span class="text-blue-500">ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙØ¬ÙˆØ©</span></h1>
                        <p class="text-secondary text-sm">ØªØªØ¨Ø¹ ØªÙ‚Ø¯Ù…Ùƒ Ø§Ù„Ù…Ù‡Ù†ÙŠ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ù…ØªØ·Ù„Ø¨Ø§Øª Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ØµØ±ÙŠ.</p>
                    </div>
                    <div class="flex items-center gap-2 px-3 py-1 bg-green-500/10 border border-green-500/20 rounded-full">
                        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                        <span class="text-green-500 text-xs font-bold">Ø§Ù„Ø­Ø§Ù„Ø©: Ù†Ø´Ø·</span>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-10 items-center">
                    <div class="relative">
                        <div class="chart-container">
                            <canvas id="gapRadarChart"></canvas>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <div class="glass-panel p-6 rounded-xl border-r-4 border-blue-500">
                            <div class="flex justify-between items-end mb-3">
                                <span class="text-secondary text-xs font-bold uppercase tracking-wider">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙƒÙ„ÙŠ</span>
                                <span class="text-3xl font-bold text-primary" id="progress-percent">0%</span>
                            </div>
                            <div class="w-full h-3 bg-gray-700/30 rounded-full overflow-hidden">
                                <div id="main-progress-bar" class="h-full bg-gradient-to-l from-blue-500 to-blue-600 transition-all duration-1000" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="grid grid-cols-3 gap-4">
                            <div class="glass-panel p-4 rounded-xl text-center border-gray-700/20">
                                <span class="block text-2xl font-bold text-primary mb-1" id="completed-tasks">0</span>
                                <span class="text-[10px] text-secondary">Ù…Ù‡Ù…Ø© Ù…Ù†Ø¬Ø²Ø©</span>
                            </div>
                            <div class="glass-panel p-4 rounded-xl text-center border-gray-700/20">
                                <span class="block text-2xl font-bold text-amber-500 mb-1" id="xp-points">0</span>
                                <span class="text-[10px] text-secondary">Ù†Ù‚Ø§Ø· (XP)</span>
                            </div>
                            <div class="glass-panel p-4 rounded-xl text-center border-gray-700/20">
                                <span class="block text-2xl font-bold text-green-500 mb-1" id="current-week-disp">1</span>
                                <span class="text-[10px] text-secondary">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span>
                            </div>
                        </div>

                        <button onclick="navigate('map')" class="w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-blue-500/20 flex items-center justify-center gap-2">
                            Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW: RESOURCES -->
        <section id="view-resources" class="hidden space-y-8 animate-fade-in">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-primary mb-3">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© <span class="text-amber-500 text-sm block md:inline md:text-xl">(Verified Assets)</span></h2>
                <p class="text-secondary text-sm max-w-2xl mx-auto glass-panel p-3 rounded-lg">
                    Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø£Ø¯Ù†Ø§Ù‡ ØªÙ… Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§ Ù„ØªÙƒÙˆÙ† "Ø§Ù„Ù…Ø±Ø¬Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ" (Zero-to-Hero). ØªØºØ·ÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠ ÙˆØ§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ±ÙŠ.
                </p>
            </div>

            <!-- Filters -->
            <div class="flex flex-wrap justify-center gap-2 mb-8">
                <button onclick="filterResources('all')" class="filter-pill active" id="btn-all">Ø§Ù„ÙƒÙ„</button>
                <button onclick="filterResources('Site')" class="filter-pill" id="btn-Site">ØªÙ†ÙÙŠØ° (Site)</button>
                <button onclick="filterResources('Shop')" class="filter-pill" id="btn-Shop">Ø´ÙˆØ¨ Ø¯Ø±ÙˆÙŠÙ†Ø¬</button>
                <button onclick="filterResources('Finishing')" class="filter-pill" id="btn-Finishing">ØªØ´Ø·ÙŠØ¨Ø§Øª</button>
                <button onclick="filterResources('Office')" class="filter-pill" id="btn-Office">Ù…ÙƒØªØ¨ ÙÙ†ÙŠ</button>
                <button onclick="filterResources('BIM')" class="filter-pill" id="btn-BIM">BIM & Revit</button>
            </div>

            <div id="resources-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-5">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- VIEW: AI & BIM -->
        <section id="view-aibim" class="hidden space-y-8 animate-fade-in">
            <div class="glass-panel p-8 rounded-xl border-l-4 border-purple-500">
                <h2 class="text-2xl font-bold text-primary mb-2">Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠ Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ <span class="text-violet-400">(AI Operations Manual)</span></h2>
                <p class="text-secondary text-sm leading-relaxed">
                    ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙƒÙ…Ù‡Ù†Ø¯Ø³ Ù„Ø±ÙØ¹ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-6">
                <!-- NotebookLM -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-green-500">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-xl font-bold text-primary">1. Google NotebookLM âš¡</h3>
                        <a href="https://notebooklm.google.com/" target="_blank" class="text-xs bg-green-500/10 border border-green-500/50 px-3 py-1 rounded text-green-500 hover:bg-green-500 hover:text-white transition">ÙØªØ­ Ø§Ù„Ø£Ø¯Ø§Ø©</a>
                    </div>
                    <p class="text-sm text-secondary mb-4 font-bold">Ø§Ù„ÙˆØ¸ÙŠÙØ©: "Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© ÙˆØ§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯".</p>
                    <div class="bg-gray-500/10 p-3 rounded border border-gray-500/20 space-y-2">
                        <strong class="text-green-500 text-xs block">Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:</strong>
                        <p class="text-xs text-secondary">Ø§Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ù€ PDF (Ù…Ø«Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ±ÙŠ) ÙˆØ§Ø³Ø£Ù„: <br><span class="text-primary">"Ù„Ø®Øµ Ù„ÙŠ Ø§Ø´ØªØ±Ø§Ø·Ø§Øª Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©."</span></p>
                    </div>
                </div>

                <!-- ChatGPT / Claude -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-blue-500">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-xl font-bold text-primary">2. ChatGPT / Claude ğŸ¤–</h3>
                        <div class="flex gap-2">
                            <a href="https://chatgpt.com/" target="_blank" class="text-xs bg-blue-500/10 border border-blue-500/50 px-3 py-1 rounded text-blue-500 hover:bg-blue-500 hover:text-white transition">ChatGPT</a>
                            <a href="https://claude.ai/" target="_blank" class="text-xs bg-orange-500/10 border border-orange-500/50 px-3 py-1 rounded text-orange-500 hover:bg-orange-500 hover:text-white transition">Claude</a>
                        </div>
                    </div>
                    <p class="text-sm text-secondary mb-4 font-bold">Ø§Ù„ÙˆØ¸ÙŠÙØ©: "ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±".</p>
                    <div class="bg-gray-500/10 p-3 rounded border border-gray-500/20 space-y-2">
                        <strong class="text-blue-500 text-xs block">Ù†ØµÙŠØ­Ø© (Pro Prompt):</strong>
                        <p class="text-xs text-secondary">Ø­Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ± ÙˆØ§Ù„Ù…Ù‡Ù…Ø©: "Ø¨ØµÙØªÙƒ Ù…Ø¯ÙŠØ± Ù…Ø´Ø±ÙˆØ¹ØŒ Ø§ÙƒØªØ¨ Ø±Ø¯Ø§Ù‹ Ø±Ø³Ù…ÙŠØ§Ù‹ Ù„Ù„Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø¨Ø®ØµÙˆØµ..."</p>
                    </div>
                </div>

                <!-- Excel AI -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-yellow-500 col-span-1 lg:col-span-2">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-xl font-bold text-primary">3. Excel Formula Bot ğŸ“Š</h3>
                        <span class="text-xs text-yellow-500 border border-yellow-500/30 px-2 py-1 rounded">Ø¯Ø§Ø®Ù„ ChatGPT</span>
                    </div>
                    <p class="text-sm text-secondary mb-4 leading-relaxed">
                        Ø§Ø³ØªØ®Ø¯Ù… ChatGPT Ù„ØªØ­ÙˆÙŠÙ„ Ø·Ù„Ø¨Ùƒ Ø¥Ù„Ù‰ Ù…Ø¹Ø§Ø¯Ù„Ø© Excel.
                    </p>
                    <div class="bg-gray-500/10 p-3 rounded border border-gray-500/20">
                        <strong class="text-yellow-500 text-xs block mb-2">Ù…Ø«Ø§Ù„ (Prompt):</strong>
                        <p class="text-xs text-secondary font-mono">
                            "Write an Excel formula to SUM Column C IF Column A is 'Concrete' AND Column B date is > 01/01/2025."
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW: MINDSET -->
        <section id="view-mindset" class="hidden space-y-8 animate-fade-in">
            <div class="glass-panel p-8 rounded-xl border-l-4 border-cyan-500">
                <h2 class="text-2xl font-bold text-primary mb-3">Ø¹Ù‚Ù„ÙŠØ© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ <span class="text-cyan-500">(Soft Skills Deep Dive)</span></h2>
                <p class="text-secondary text-sm leading-relaxed max-w-3xl">
                    <strong class="text-primary">ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…:</strong> Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ù„ÙŠØ³Øª Ù…Ø¬Ø±Ø¯ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆÙ„ÙˆØ­Ø§Øª. Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¹ØªÙ…Ø¯ 80% Ø¹Ù„Ù‰ Ø¥Ø¯Ø§Ø±ØªÙƒ Ù„Ù„Ø¨Ø´Ø±ØŒ Ùˆ20% Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Book 1 -->
                <div class="glass-panel p-6 rounded-xl border border-gray-700/30 hover:border-cyan-500 transition group">
                    <h3 class="text-lg font-bold text-primary group-hover:text-cyan-500 transition mb-2">Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù… (Discipline)</h3>
                    <p class="text-xs text-secondary mb-3 font-mono">ÙƒØªØ§Ø¨: Ø§Ù„Ø¹Ø§Ø¯Ø§Øª Ø§Ù„Ø°Ø±ÙŠØ© (Atomic Habits)</p>
                    <div class="bg-gray-500/10 p-3 rounded border-l-2 border-cyan-500/50 mb-3">
                        <p class="text-xs text-secondary leading-relaxed">
                            <strong class="text-cyan-500 block mb-1">Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ:</strong>
                            Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨ÙƒØªØ§Ø¨Ø© "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©" Ø§Ù„Ù…Ù…Ù„Ø©ØŒ ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© "Checklists" Ø§Ù„Ø³Ù„Ø§Ù…Ø©ØŒ Ù‡ÙŠ Ø¹Ø§Ø¯Ø§Øª ØµØºÙŠØ±Ø© ØªØ±Ø§ÙƒÙ…ÙŠØ©.
                        </p>
                    </div>
                    <a href="https://www.youtube.com/results?search_query=%D9%85%D9%84%D8%AE%D8%B5+%D9%83%D8%AA%D8%A7%D8%A8+%D8%A7%D9%84%D8%B9%D8%A7%D8%AF%D8%A7%D8%AA+%D8%A7%D9%84%D8%B0%D8%B1%D9%8A%D8%A9+%D8%B9%D9%84%D9%8A+%D9%85%D8%AD%D9%85%D8%AF+%D8%B9%D9%84%D9%8A" target="_blank" class="text-cyan-500 text-xs font-bold hover:underline">Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù„Ø®Øµ &rarr;</a>
                </div>

                <!-- Book 2 -->
                <div class="glass-panel p-6 rounded-xl border border-gray-700/30 hover:border-cyan-500 transition group">
                    <h3 class="text-lg font-bold text-primary group-hover:text-cyan-500 transition mb-2">Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø´Ø± (Leadership)</h3>
                    <p class="text-xs text-secondary mb-3 font-mono">ÙƒØªØ§Ø¨: ÙƒÙŠÙ ØªÙƒØ³Ø¨ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙˆØªØ¤Ø«Ø± ÙÙŠ Ø§Ù„Ù†Ø§Ø³ (How to Win Friends)</p>
                    <div class="bg-gray-500/10 p-3 rounded border-l-2 border-cyan-500/50 mb-3">
                        <p class="text-xs text-secondary leading-relaxed">
                            <strong class="text-cyan-500 block mb-1">Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ:</strong>
                            ÙÙ† Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØµÙ†Ø§ÙŠØ¹ÙŠØ©. ÙƒÙŠÙ ØªÙˆØ¬Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ¥Ù‚Ù†Ø§Ø¹Ù‡Ù… Ø¨ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¨Ø±Ø¶Ø§.
                        </p>
                    </div>
                    <a href="https://www.youtube.com/results?search_query=%D9%85%D9%84%D8%AE%D8%B5+%D9%83%D8%AA%D8%A7%D8%A8+%D9%83%D9%8A%D9%81+%D8%AA%D9%83%D8%B3%D8%A8+%D8%A7%D9%84%D8%A3%D8%B5%D8%AF%D9%82%D8%A7%D8%A1+%D9%88%D8%AA%D8%A4%D8%AB%D8%B1+%D9%81%D9%8A+%D8%A7%D9%84%D9%86%D8%A7%D8%B3+%D8%B9%D9%84%D9%8A+%D9%85%D8%AD%D9%85%D8%AF+%D8%B9%D9%84%D9%8A" target="_blank" class="text-cyan-500 text-xs font-bold hover:underline">Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù„Ø®Øµ &rarr;</a>
                </div>

                <!-- Book 3 -->
                <div class="glass-panel p-6 rounded-xl border border-gray-700/30 hover:border-cyan-500 transition group">
                    <h3 class="text-lg font-bold text-primary group-hover:text-cyan-500 transition mb-2">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¶ØºÙˆØ· (Resilience)</h3>
                    <p class="text-xs text-secondary mb-3 font-mono">ÙƒØªØ§Ø¨: Ø¯Ø¹ Ø§Ù„Ù‚Ù„Ù‚ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø­ÙŠØ§Ø© (Stop Worrying)</p>
                    <div class="bg-gray-500/10 p-3 rounded border-l-2 border-cyan-500/50 mb-3">
                        <p class="text-xs text-secondary leading-relaxed">
                            <strong class="text-cyan-500 block mb-1">Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ:</strong>
                            ÙŠÙˆÙ… "ØµØ¨ Ø§Ù„Ø³Ù‚Ù" Ù‡Ùˆ ÙŠÙˆÙ… Ø­Ø±Ø¨. Ø§Ù„ÙƒØªØ§Ø¨ ÙŠØ¹Ù„Ù…Ùƒ Ø§Ù„ÙØµÙ„ Ø¨ÙŠÙ† "Ø§Ù„Ù…Ø´ÙƒÙ„Ø©" Ùˆ"Ù‚Ù„Ù‚Ùƒ Ù…Ù†Ù‡Ø§".
                        </p>
                    </div>
                    <a href="https://www.youtube.com/results?search_query=%D9%85%D9%84%D8%AE%D8%B5+%D9%83%D8%AA%D8%A7%D8%A8+%D8%AF%D8%B9+%D8%A7%D9%84%D9%82%D9%84%D9%82+%D9%88%D8%A7%D8%A8%D8%AF%D8%A3+%D8%A7%D9%84%D8%AD%D9%8A%D8%A7%D8%A9+%D8%B9%D9%84%D9%8A+%D9%85%D8%AD%D9%85%D8%AF+%D8%B9%D9%84%D9%8A" target="_blank" class="text-cyan-500 text-xs font-bold hover:underline">Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù„Ø®Øµ &rarr;</a>
                </div>

                <!-- Book 4 -->
                <div class="glass-panel p-6 rounded-xl border border-gray-700/30 hover:border-cyan-500 transition group">
                    <h3 class="text-lg font-bold text-primary group-hover:text-cyan-500 transition mb-2">ÙÙ† Ø§Ù„ØªÙØ§ÙˆØ¶ (Negotiation)</h3>
                    <p class="text-xs text-secondary mb-3 font-mono">ÙƒØªØ§Ø¨: Ù„Ø§ ØªØ³Ø§ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙØ±Ù‚ Ø£Ø¨Ø¯Ø§Ù‹ (Never Split the Difference)</p>
                    <div class="bg-gray-500/10 p-3 rounded border-l-2 border-cyan-500/50 mb-3">
                        <p class="text-xs text-secondary leading-relaxed">
                            <strong class="text-cyan-500 block mb-1">Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ:</strong>
                            Ø³ØªØªÙØ§ÙˆØ¶ ÙŠÙˆÙ…ÙŠØ§Ù‹: Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø¨Ù†Ø¯ØŒ ÙˆÙ…Ø¹ Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±.
                        </p>
                    </div>
                    <a href="https://www.youtube.com/results?search_query=%D9%85%D9%84%D8%AE%D8%B5+%D9%83%D8%AA%D8%A7%D8%A8+%D9%84%D8%A7+%D8%AA%D8%B3%D8%A7%D9%88%D9%85+%D8%B9%D9%84%D9%89+%D8%A7%D9%84%D9%81%D8%B1%D9%82+%D8%A3%D8%A8%D8%AF%D8%A7%D9%8B+%D8%B9%D9%84%D9%8A+%D9%85%D8%AD%D9%85%D8%AF+%D8%B9%D9%84%D9%8A" target="_blank" class="text-cyan-500 text-xs font-bold hover:underline">Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù„Ø®Øµ &rarr;</a>
                </div>
            </div>
        </section>

        <!-- VIEW: MAP (SCHEDULE) -->
        <section id="view-map" class="hidden space-y-6 animate-fade-in">
             <div class="glass-panel p-6 rounded-xl border-l-4 border-blue-500 flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold text-primary">Ø®Ø§Ø±Ø·Ø© Ø§Ù„Ù…Ù‡Ù…Ø© (14 Ø£Ø³Ø¨ÙˆØ¹)</h2>
                    <p class="text-secondary mt-1 text-sm">Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø§Ø¹ØªÙŠÙ†: Ù…Ø´Ø§Ù‡Ø¯Ø© (Input) + ØªØ·Ø¨ÙŠÙ‚ (Output).</p>
                </div>
                 <button onclick="resetProgress()" class="text-xs text-red-400 hover:text-red-600 border border-red-500/30 px-3 py-1 rounded transition-colors">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
            </div>
            
            <div id="schedule-container" class="space-y-4">
                <!-- Injected via JS -->
            </div>
        </section>

    </main>

    <script>
        // --- 1. RESOURCES DATABASE ---
        const resourcesData = [
            { title: "ØªÙ†ÙÙŠØ° Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø§Øª (Concrete)", instructor: "Ù…. ÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ", cat: "Site", url: "https://www.youtube.com/playlist?list=PLfVgc3qLn2xb0TIY0nc3hVPTjcX4BTAiT", cssClass: "cat-site", btnClass: "btn-site" },
            { title: "Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø´ÙˆØ¨ Ø¯Ø±ÙˆÙŠÙ†Ø¬ (Setup)", instructor: "Ù…. ÙƒØ±ÙŠÙ… Ø¹Ø§Ø¯Ù„", cat: "Shop", url: "https://www.youtube.com/playlist?list=PLDHUI0BRXyH_cZcipUw1E0Mi0OkjBl4pO", cssClass: "cat-shop", btnClass: "btn-shop" },
            { title: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ³Ù„ÙŠØ­ (Detailing)", instructor: "Ù…. Ø£Ø­Ù…Ø¯ Ø§Ù„ØªØ±ÙŠØ³ÙŠ", cat: "Shop", url: "https://www.youtube.com/playlist?list=PLC8lXhy3op9PLXfgBC7URTA1zESby6UFp", cssClass: "cat-shop", btnClass: "btn-shop" },
            { title: "Ø§Ù„ØªØ´Ø·ÙŠØ¨Ø§Øª Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© (Ù…ÙˆÙ‚Ø¹ÙŠ)", instructor: "Ù…Ù†Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°", cat: "Finishing", url: "https://www.youtube.com/playlist?list=PLYibZreE8qlJmESeLalkpwrERA-IKNfv5", cssClass: "cat-fin", btnClass: "btn-fin" },
            { title: "ÙÙ†ÙŠØ§Øª Ø§Ù„ØªØ´Ø·ÙŠØ¨Ø§Øª (ÙÙ†ÙŠ)", instructor: "Ù…. Ù…Ø­Ù…Ø¯ Ø¨Ø¯ÙˆÙŠ", cat: "Finishing", url: "https://www.youtube.com/playlist?list=PLm1b-B0cvpOdp81E30nnC3be_GXE0pj8s", cssClass: "cat-fin", btnClass: "btn-fin" },
            { title: "Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„ÙÙ†ÙŠ (Technical Office)", instructor: "Ù…. Ø£Ø­Ù…Ø¯ Ø­Ø³Ù†", cat: "Office", url: "https://www.youtube.com/playlist?list=PLabf5mJYBmPtfDvqma1zpdI5_6OMl2IH9", cssClass: "cat-office", btnClass: "btn-office" },
            { title: "Revit Structure Essentials", instructor: "Ù…. ÙƒØ±ÙŠÙ… Ø¹Ø§Ø¯Ù„", cat: "BIM", url: "https://www.youtube.com/playlist?list=PLDHUI0BRXyH9N22baH_GWyD3ZcWvlkont", cssClass: "cat-bim", btnClass: "btn-bim" }
        ];

        // --- 2. SCHEDULE DATA (TECHNICAL TERMS) ---
        const scheduleWeeks = [
            // PHASE 1: SITE
            { id: 1, title: "Ø£Ø³Ø¨ÙˆØ¹ 1: Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ±Ø§Ø¨ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø§Ø³Ø§Øª", source: "ÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ (Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø§Øª)", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­ÙØ± ÙˆØ§Ù„Ø¥Ø­Ù„Ø§Ù„ (Excavation & Replacement)", "Ù‚Ø±Ø§Ø¡Ø© Ø¨Ù†Ø¯ Ø§Ù„Ø­ÙØ± ÙÙŠ Ø§Ù„ÙƒÙˆØ¯"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (PC Footings)", "Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø®Ù†Ø²ÙŠØ±Ø© (Setting out / Axes)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø³Ù„Ø­Ø© (RC Footings)", "ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ³Ù„ÙŠØ­ (Rft Detailing)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ (Inspection Request)", "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù€ Checklist"] }
            ]},
            { id: 2, title: "Ø£Ø³Ø¨ÙˆØ¹ 2: Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Columns)", source: "ÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ù†Ø¬Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Column Formwork)", "Ø§Ù„ØªÙ‚ÙˆÙŠØ© ÙˆØ§Ù„ØªØ¬Ø§Ù„ÙŠØ¯ (Bracing & Sheathing)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø­Ø¯Ø§Ø¯Ø© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Reinforcement)", "Ø¥Ø´Ø§ÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Starter Bars)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Inspection)", "ÙˆØ²Ù†Ø§Øª Ø§Ù„Ø±Ø£Ø³ÙŠØ© (Plumbness Check)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["ØµØ¨ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Casting)", "Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆÙÙƒ Ø§Ù„Ø´Ø¯Ø§Øª (Curing & Stripping)"] }
            ]},
            { id: 3, title: "Ø£Ø³Ø¨ÙˆØ¹ 3: Ø§Ù„Ø£Ø³Ù‚Ù (Slabs)", source: "ÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ø£Ø³Ù‚Ù Ø§Ù„ÙƒÙ…Ø±ÙŠØ© (Solid Slabs)", "Ù†Ø¬Ø§Ø±Ø© Ø§Ù„ÙƒÙ…Ø±Ø§Øª (Beam Formwork)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„Ø£Ø³Ù‚Ù Ø§Ù„Ù„Ø§ÙƒÙ…Ø±ÙŠØ© (Flat Slabs)", "Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ¯ (Mesh Reinforcement)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ (Add. Rft)", "Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ ÙˆØ§Ù„Ø£ÙˆØªØ§Ø± (Chairs & Supporters)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø³Ù‚Ù (Slab Inspection)", "Ø§Ù„Ø´ÙŠØ±Ø¨ ÙˆØ§Ù„Ù…Ù†Ø§Ø³ÙŠØ¨ (Level Benchmarks)"] }
            ]},
            { id: 4, title: "Ø£Ø³Ø¨ÙˆØ¹ 4: Ø§Ù„Ø³Ù„Ø§Ù„Ù… ÙˆØ¶Ø¨Ø· Ø§Ù„Ø¬ÙˆØ¯Ø©", source: "ÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ù†ÙŠØ¯ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ù†Ø¬Ø§Ø±Ø© ÙˆØ­Ø¯Ø§Ø¯Ø© Ø§Ù„Ø³Ù„Ø§Ù„Ù… (Staircase)", "Ø±Ø³Ù… Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø³Ù„Ù… (Section)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‡Ø¨ÙˆØ· (Slump Test)", "Ù…Ø­Ø¶Ø± Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… (Inspection Report)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ù…ÙƒØ¹Ø¨Ø§Øª Ø§Ù„ÙƒØ³Ø± (Concrete Cubes)", "Ø¥Ø¬Ù‡Ø§Ø¯ Ø§Ù„ÙƒØ³Ø± (Crushing Strength)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù‡ÙŠÙƒÙ„ (Skeleton Review)", "Ø§Ø®ØªØ¨Ø§Ø± Ø°Ø§ØªÙŠ"] }
            ]},
            // PHASE 2: FINISHING
            { id: 5, title: "Ø£Ø³Ø¨ÙˆØ¹ 5: Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ (Masonry)", source: "Ù…Ø­Ù…Ø¯ Ø¨Ø¯ÙˆÙŠ + Ù…Ù†Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø·ÙˆØ¨ (Brick Types)", "Ø·Ø±Ù‚ Ø§Ù„Ø±Ø¨Ø· (Bonding Styles)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„ØªØ´Ø­ÙŠØ· ÙˆØ§Ù„Ø¹Ø±Ø§Ù…ÙŠØ³ (Pinning & Joints)", "Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒÙ…ÙŠØ§Øª"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ (Inspection)", "Ø§Ù„Ø³ÙˆØ§Ø¹Ù‰ ÙˆØ§Ù„Ù‚Ø¯Ø© (Verticality & Straightness)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø§Ù„Ø£Ø¹ØªØ§Ø¨ ÙˆØ§Ù„ÙØªØ­Ø§Øª (Lintels & Openings)", "Ø§Ù„Ø®Ù„ÙˆØµØ§Øª (Tolerances)"] }
            ]},
            { id: 6, title: "Ø£Ø³Ø¨ÙˆØ¹ 6: Ø§Ù„Ø¹Ø²Ù„ ÙˆØ§Ù„Ø³Ø¨Ø§ÙƒØ©", source: "Ù…Ø­Ù…Ø¯ Ø¨Ø¯ÙˆÙŠ + Ù…Ù†Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø¹Ø²Ù„ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© (Damp Proofing)", "Ø±Ù‚Ø¨Ø© Ø§Ù„Ø²Ø¬Ø§Ø¬Ø© (Angle Fillet)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØºÙ…Ø± (Ponding Test)", "Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© (Protective Screed)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["ØªØ£Ø³ÙŠØ³ Ø§Ù„Ø³Ø¨Ø§ÙƒØ© (Plumbing 1st Fix)", "Ù…ÙˆØ§Ø³ÙŠØ± Ø§Ù„ØªØºØ°ÙŠØ© (Supply Pipes)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["ÙƒØ¨Ø³ Ø§Ù„Ù…ÙˆØ§Ø³ÙŠØ± (Pressure Test)", "ØµØ±Ù Ø§Ù„ØªÙƒÙŠÙŠÙ (AC Drainage)"] }
            ]},
            { id: 7, title: "Ø£Ø³Ø¨ÙˆØ¹ 7: Ø§Ù„Ø¨ÙŠØ§Ø¶ ÙˆØ§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡", source: "Ù…Ù†Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ø·Ø±Ø·Ø´Ø© (Spatter Dash)", "Ø§Ù„Ø¨Ø¤Ø¬ ÙˆØ§Ù„Ø£ÙˆØªØ§Ø± (Dots & Screeds)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ø¶ (Plastering)", "Ø´Ø¨Ùƒ Ø§Ù„ØªÙ…Ø¯Ø¯ (Wire Mesh)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø®Ø±Ø§Ø·ÙŠÙ… Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ (Conduits)", "Ø¹Ù„Ø¨ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Back Boxes)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø³Ø­Ø¨ Ø§Ù„Ø£Ø³Ù„Ø§Ùƒ (Wire Pulling)", "Ù„ÙˆØ­Ø§Øª Ø§Ù„ØªÙˆØ²ÙŠØ¹"] }
            ]},
            { id: 8, title: "Ø£Ø³Ø¨ÙˆØ¹ 8: Ø§Ù„Ø£Ø±Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø¯Ù‡Ø§Ù†Ø§Øª", source: "Ù…Ù†Ø§Ø±Ø© Ø§Ù„ØªÙ†ÙÙŠØ°", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ø³ÙŠØ±Ø§Ù…ÙŠÙƒ (Ceramic Tiles)", "Ø¶Ø¨Ø· Ø§Ù„Ù…Ù†Ø³ÙˆØ¨ (Leveling)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„Ù…Ø¹Ø¬ÙˆÙ† (Putty)", "Ø§Ù„Ø¯Ù‡Ø§Ù†Ø§Øª (Painting Layers)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ù„ØªØ´Ø·ÙŠØ¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Finishing Coat)", "Ø§Ù„Ù†Ø¬Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© (Joinery)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ (Initial Handover)", "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Snag List)"] }
            ]},
            // PHASE 3: SHOP DRAWING
            { id: 9, title: "Ø£Ø³Ø¨ÙˆØ¹ 9: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø´ÙˆØ¨ Ø¯Ø±ÙˆÙŠÙ†Ø¬", source: "ÙƒØ±ÙŠÙ… Ø¹Ø§Ø¯Ù„ + Ø£Ø­Ù…Ø¯ Ø§Ù„ØªØ±ÙŠØ³ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ (Interface)", "Ø¶Ø¨Ø· Ø§Ù„ÙˆØ­Ø¯Ø§Øª (Units Setup)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø±Ø³Ù… Ø§Ù„Ø£Ø³ÙŠØ§Ø® (Bar Shapes)", "ØªÙØ±ÙŠØ¯ Ø§Ù„ÙƒØ§Ù†Ø§Øª (Stirrups)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø·ÙˆÙ„ Ø§Ù„Ø±Ø¨Ø§Ø· (Development Length)", "Ø·ÙˆÙ„ Ø§Ù„ÙˆØµÙ„Ø© (Lap Length)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù„ÙˆØ­Ø§Øª (Sheet Layout)", "Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© (Plotting)"] }
            ]},
            { id: 10, title: "Ø£Ø³Ø¨ÙˆØ¹ 10: ØªÙØ±ÙŠØ¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± 1", source: "Ø£Ø­Ù…Ø¯ Ø§Ù„ØªØ±ÙŠØ³ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ù†ÙØµÙ„Ø© (Footing Detailing)", "Ø§Ù„Ø³ÙŠØ® Ø§Ù„Ù…ÙƒØ³Ø­"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„Ø³Ù…Ù„Ø§Øª (Ground Beams)", "Ø±Ù‚Ø§Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Column Necks)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["ØªÙØ±ÙŠØ¯ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Column Detailing)", "ØªÙƒØ«ÙŠÙ Ø§Ù„ÙƒØ§Ù†Ø§Øª (Stirrup Zones)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙØ±ÙŠØ¯ (BBS)", "Ø¥Ø®Ø±Ø§Ø¬ Ù„ÙˆØ­Ø© ÙƒØ§Ù…Ù„Ø©"] }
            ]},
            { id: 11, title: "Ø£Ø³Ø¨ÙˆØ¹ 11: ØªÙØ±ÙŠØ¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± 2", source: "Ø£Ø­Ù…Ø¯ Ø§Ù„ØªØ±ÙŠØ³ÙŠ", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„ÙƒÙ…Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø© (Continuous Beams)", "Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ÙˆÙ‚Ù (Cut-off Points)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„Ø¨Ù„Ø§Ø·Ø§Øª Ø§Ù„Ù…ØµÙ…ØªØ© (Solid Slab)", "Ø§Ù„ÙØ±Ø´ ÙˆØ§Ù„ØºØ·Ø§Ø¡ (Main/Sec Rft)"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ù„Ø¨Ù„Ø§Ø·Ø§Øª Ø§Ù„Ù…Ø³Ø·Ø­Ø© (Flat Slab)", "Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ (Add. Rft)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ù…Ø´Ø±ÙˆØ¹ Ù†Ù‡Ø§Ø¦ÙŠ (Final Project)", "ØªØµØ¯ÙŠØ± PDF"] }
            ]},
            // PHASE 4: OFFICE & BIM
            { id: 12, title: "Ø£Ø³Ø¨ÙˆØ¹ 12: Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„ÙÙ†ÙŠ", source: "Ø£Ø­Ù…Ø¯ Ø­Ø³Ù†", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø© (BOQ)", "Ø§Ù„ØªØ³Ø¹ÙŠØ± (Pricing)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± (Rate Analysis)", "Ø¨Ù†Ø¯ Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø§Ù„Ù…Ø³ØªØ®Ù„ØµØ§Øª (Interim Payments)", "Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª (Deductions)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø²Ù…Ù†ÙŠ (Time Schedule)", "Ø§Ù„Ø¹Ù‚ÙˆØ¯ (Contracts Intro)"] }
            ]},
            { id: 13, title: "Ø£Ø³Ø¨ÙˆØ¹ 13: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø±ÙŠÙÙŠØª 1", source: "ÙƒØ±ÙŠÙ… Ø¹Ø§Ø¯Ù„", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ù…Ø­Ø§ÙˆØ± ÙˆØ§Ù„Ù…Ù†Ø§Ø³ÙŠØ¨ (Grids & Levels)", "ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Structural Columns)", "ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³Ø§Øª (Structural Foundations)", "Ø§Ù„Ø±Ø¨Ø· (Constraints)"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Modify Tools)", "ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠ"] }
            ]},
            { id: 14, title: "Ø£Ø³Ø¨ÙˆØ¹ 14: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø±ÙŠÙÙŠØª 2", source: "ÙƒØ±ÙŠÙ… Ø¹Ø§Ø¯Ù„", days: [
                { name: "Ø§Ù„Ø£Ø­Ø¯", tasks: ["Ø§Ù„Ø¨Ù„Ø§Ø·Ø§Øª ÙˆØ§Ù„ÙƒÙ…Ø±Ø§Øª (Slabs & Framing)", "Ø§Ù„ÙØªØ­Ø§Øª (Shafts)"] },
                { name: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", tasks: ["Ø§Ù„ØªØ³Ù„ÙŠØ­ (Rebar Modeling)", "ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙƒØ§Ù†Ø§Øª"] },
                { name: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", tasks: ["Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø­ØµØ± (Schedules/Quantities)", "ÙÙ„ØªØ±Ø© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„"] },
                { name: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", tasks: ["Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù„ÙˆØ­Ø§Øª (Sheets)", "Ø§Ù„Ù†Ù‡Ø§ÙŠØ© (Completion)"] }
            ]}
        ];

        // --- 3. STATE MANAGEMENT ---
        let state = JSON.parse(localStorage.getItem('civilForgeV18')) || {
            completed: [], 
            unlocked: [1],
            currentView: 'dashboard'
        };

        function saveState() {
            localStorage.setItem('civilForgeV18', JSON.stringify(state));
            updateDashboard();
            renderSchedule();
        }
        
        function resetProgress() {
            if(confirm("ØªØ­Ø°ÙŠØ±: Ø³ÙŠØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) {
                state = { completed: [], unlocked: [1], currentView: 'dashboard' };
                saveState();
                navigate('dashboard');
            }
        }

        function toggleTask(id, weekId) {
            if(state.completed.includes(id)) {
                state.completed = state.completed.filter(x => x !== id);
            } else {
                state.completed.push(id);
            }
            saveState();
        }

        function unlockNext(currentId) {
            const next = currentId + 1;
            if(!state.unlocked.includes(next)) {
                state.unlocked.push(next);
                saveState();
                alert(`ØªÙ… ÙØªØ­ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø±Ù‚Ù… ${next} Ø¨Ù†Ø¬Ø§Ø­.`);
            }
        }

        // --- 4. THEME & NAVIGATION ---
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', next);
            localStorage.setItem('themePref', next);
            
            // Update Chart Colors if needed
            if(chartInstance) {
                chartInstance.options.scales.r.grid.color = next === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
                chartInstance.options.scales.r.angleLines.color = next === 'dark' ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
                chartInstance.options.scales.r.pointLabels.color = next === 'dark' ? '#94a3b8' : '#475569';
                chartInstance.update();
            }
        }

        function navigate(view) {
            state.currentView = view;
            saveState();

            document.querySelectorAll('main > section').forEach(el => el.classList.add('hidden'));
            document.getElementById(`view-${view}`).classList.remove('hidden');
            
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('nav-active'));
            document.getElementById(`nav-${view}`).classList.add('nav-active');
            
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        // --- 5. RENDERERS ---
        function filterResources(filter) {
            const grid = document.getElementById('resources-grid');
            grid.innerHTML = '';
            
            const list = filter === 'all' ? resourcesData : resourcesData.filter(r => r.cat === filter);
            
            document.querySelectorAll('.filter-pill').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${filter}`).classList.add('active');

            list.forEach(r => {
                grid.innerHTML += `
                    <div class="glass-panel p-5 rounded-xl border-r-4 ${r.cssClass} transition-all hover:scale-[1.01]">
                        <div class="flex justify-between mb-3">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-secondary opacity-80 px-2 py-1 rounded border border-gray-500/20">${r.cat}</span>
                            <div class="flex gap-1 items-center">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-[10px] text-green-500 font-bold">Verified</span>
                            </div>
                        </div>
                        <h3 class="text-base font-bold text-primary mb-1 leading-snug">${r.title}</h3>
                        <p class="text-xs text-secondary mb-4 font-mono">Instructor: ${r.instructor}</p>
                        <a href="${r.url}" target="_blank" class="block w-full text-center py-2 border rounded transition-all text-xs font-bold ${r.btnClass}">
                            Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…ØµØ¯Ø± â†—
                        </a>
                    </div>
                `;
            });
        }

        function renderSchedule() {
            const container = document.getElementById('schedule-container');
            container.innerHTML = '';

            scheduleWeeks.forEach(week => {
                const locked = !state.unlocked.includes(week.id);
                
                let total = 0, done = 0;
                week.days.forEach((d, di) => d.tasks.forEach((t, ti) => {
                    total++;
                    if(state.completed.includes(`w${week.id}-d${di}-t${ti}`)) done++;
                }));
                const pct = total === 0 ? 0 : Math.round((done/total)*100);
                const isFull = pct === 100;

                if(locked) {
                    container.innerHTML += `
                        <div class="glass-panel p-6 rounded-xl border border-gray-500/20 week-locked relative">
                            <div class="absolute inset-0 flex items-center justify-center z-10">
                                <div class="bg-gray-900/90 px-4 py-2 rounded-lg text-gray-300 font-bold flex items-center gap-2 border border-gray-600">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                    Ù…Ø­ØªÙˆÙ‰ Ù…ØºÙ„Ù‚ (Ø£ÙƒÙ…Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø³Ø§Ø¨Ù‚)
                                </div>
                            </div>
                            <h3 class="text-xl font-bold text-secondary">${week.title}</h3>
                        </div>
                    `;
                    return;
                }

                let daysHtml = '';
                week.days.forEach((d, di) => {
                    let tasks = '';
                    d.tasks.forEach((t, ti) => {
                        const tid = `w${week.id}-d${di}-t${ti}`;
                        const checked = state.completed.includes(tid);
                        tasks += `
                            <label class="flex items-center gap-3 p-2 rounded hover:bg-gray-500/10 cursor-pointer transition">
                                <input type="checkbox" class="custom-checkbox" onchange="toggleTask('${tid}', ${week.id})" ${checked ? 'checked' : ''}>
                                <span class="text-sm ${checked ? 'task-completed' : 'text-secondary'}">${t}</span>
                            </label>
                        `;
                    });
                    daysHtml += `<div class="mb-4 last:mb-0"><h4 class="text-blue-500 text-xs font-bold uppercase mb-2 border-b border-gray-500/20 pb-1">${d.name}</h4>${tasks}</div>`;
                });

                let unlockBtn = '';
                if(isFull && !state.unlocked.includes(week.id+1) && week.id < 14) {
                    unlockBtn = `<button onclick="unlockNext(${week.id})" class="mt-4 w-full py-2 bg-green-600 hover:bg-green-500 text-white font-bold rounded shadow-lg shadow-green-500/30 transition animate-pulse">ÙØªØ­ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ØªØ§Ù„ÙŠ ğŸ”“</button>`;
                }

                container.innerHTML += `
                    <div class="glass-panel p-6 rounded-xl border-r-4 ${isFull ? 'border-green-500' : 'border-gray-500'} transition-all hover:shadow-lg">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 border-b border-gray-500/20 pb-4">
                            <div>
                                <h3 class="text-lg font-bold text-primary">${week.title}</h3>
                                <div class="text-sm text-secondary mt-1 flex items-center gap-2">
                                    <span class="text-amber-500">âš  Ø§Ù„Ù…ØµØ¯Ø±:</span> ${week.source}
                                </div>
                            </div>
                            <span class="text-xs font-bold ${isFull ? 'text-green-500' : 'text-secondary'} opacity-80 px-2 py-1 rounded mt-2 md:mt-0">${pct}%</span>
                        </div>
                        <div class="w-full bg-gray-500/20 h-1 rounded-full mb-6 overflow-hidden">
                            <div class="h-full ${isFull ? 'bg-green-500' : 'bg-gray-500'} transition-all duration-500" style="width: ${pct}%"></div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-6">${daysHtml}</div>
                        ${unlockBtn}
                    </div>
                `;
            });
        }

        // --- 6. DASHBOARD & CHART ---
        let chartInstance = null;

        function updateDashboard() {
            const completedCount = state.completed.length;
            const currentWeek = Math.max(...state.unlocked);
            const xp = completedCount * 25; 
            const totalTasks = 112; 
            const percent = Math.min(100, Math.round((completedCount/totalTasks)*100));

            if(document.getElementById('completed-tasks')) document.getElementById('completed-tasks').innerText = completedCount;
            if(document.getElementById('xp-points')) document.getElementById('xp-points').innerText = xp;
            if(document.getElementById('current-week-disp')) document.getElementById('current-week-disp').innerText = currentWeek;
            if(document.getElementById('progress-percent')) document.getElementById('progress-percent').innerText = `${percent}%`;
            if(document.getElementById('main-progress-bar')) document.getElementById('main-progress-bar').style.width = `${percent}%`;

            let scores = { Site: 10, Finishing: 10, Shop: 5, Office: 5, BIM: 5 }; 
            state.completed.forEach(tid => {
                const wid = parseInt(tid.split('-')[0].replace('w',''));
                if(wid <= 4) scores.Site += 2;
                else if(wid <= 8) scores.Finishing += 2;
                else if(wid <= 11) scores.Shop += 3;
                else if(wid === 12) scores.Office += 8;
                else scores.BIM += 6;
            });

            const dataPoints = [
                Math.min(100, scores.Site),
                Math.min(100, scores.Finishing),
                Math.min(100, scores.Shop),
                Math.min(100, scores.Office),
                Math.min(100, scores.BIM)
            ];

            updateChart(dataPoints);
        }

        function updateChart(dataPoints) {
            const ctx = document.getElementById('gapRadarChart');
            if(!ctx) return;

            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            const gridColor = isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
            const textColor = isDark ? '#94a3b8' : '#475569';

            const data = {
                labels: ['ØªÙ†ÙÙŠØ° (Site)', 'ØªØ´Ø·ÙŠØ¨Ø§Øª (Fin)', 'Shop Drawing', 'Ù…ÙƒØªØ¨ ÙÙ†ÙŠ', 'BIM'],
                datasets: [
                    {
                        label: 'Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ (Target)',
                        data: [100, 100, 100, 100, 100],
                        borderColor: 'rgba(248, 113, 113, 0.5)',
                        borderWidth: 2,
                        pointRadius: 0,
                        borderDash: [4, 4]
                    },
                    {
                        label: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ',
                        data: dataPoints,
                        backgroundColor: 'rgba(59, 130, 246, 0.5)',
                        borderColor: '#3b82f6',
                        borderWidth: 2,
                        pointBackgroundColor: isDark ? '#fff' : '#1e293b'
                    }
                ]
            };

            if(chartInstance) {
                chartInstance.data = data;
                chartInstance.options.scales.r.grid.color = gridColor;
                chartInstance.options.scales.r.angleLines.color = gridColor;
                chartInstance.options.scales.r.pointLabels.color = textColor;
                chartInstance.update();
            } else {
                chartInstance = new Chart(ctx, {
                    type: 'radar',
                    data: data,
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                min: 0, max: 100,
                                angleLines: { color: gridColor },
                                grid: { color: gridColor },
                                pointLabels: { color: textColor, font: { family: 'Cairo', size: 11 } },
                                ticks: { display: false }
                            }
                        },
                        plugins: { legend: { display: false } }
                    }
                });
            }
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            // Load Theme
            const savedTheme = localStorage.getItem('themePref') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);

            filterResources('all');
            renderSchedule();
            updateDashboard();
            
            // Restore View
            const savedView = state.currentView || 'dashboard';
            navigate(savedView);
        });

    </script>
</body>
</html>